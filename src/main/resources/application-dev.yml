# Configuração de desenvolvimento - H2 em memória
spring:
  datasource:
    url: jdbc:h2:mem:backoffice_alerta_dev
    driverClassName: org.h2.Driver
    username: sa
    password: 
  
  h2:
    console:
      enabled: true
      path: /h2-console
  
  jpa:
    database-platform: org.hibernate.dialect.H2Dialect
    hibernate:
      ddl-auto: validate
    show-sql: true
    properties:
      hibernate:
        format_sql: true
  
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

# US#52 - Configuração de tokens Git (via variáveis de ambiente)
git:
  github:
    token: ${GITHUB_TOKEN:}
  gitlab:
    token: ${GITLAB_TOKEN:}

# US#64 - Cache de embeddings de query
# US#65 - Provider de embeddings real
rag:
  query-embedding-cache:
    enabled: true
    ttl-minutes: 30
    max-entries: 1000
  embedding:
    provider: SENTENCE_TRANSFORMER  # DUMMY | SENTENCE_TRANSFORMER | OPENAI
    timeout-seconds: 10
    enable-fallback: true
  vector-store:  # US#66 - Persistência de embeddings
    type: JPA  # JPA | MEMORY
    persist: true
  llm:  # Integração LLM para geração de texto (CONSULTIVO)
    provider: DUMMY  # DUMMY | OPENAI
    openai:
      api-key: ${OPENAI_API_KEY:}  # Variável de ambiente
      model: gpt-4o-mini
      timeout-seconds: 15

logging:
  level:
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    org.flywaydb: INFO
